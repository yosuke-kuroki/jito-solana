# Programming Model

The Solana *runtime* can execute untrusted on-chain programs written in any
programming language that can target the Berkley Packet Filter (BPF) safe
execution environment. The Solana SDK offers the best support for C programs,
which is compiled to BPF using the [LLVM compiler
infrastructure](https://llvm.org). Alternatively, a client might choose to
bypass LLVM and use Python, Lua or C++ to generate BPF directly via the [BPF
Compiler Collection](https://github.com/iovisor/bcc) (BCC).

## Deploying Programs to a Cluster

<img alt="SDK tools" src="img/sdk-tools.svg" class="center"/>

As shown in the diagram above a client creates a program and compiles it to an
ELF shared object containing BPF bytecode and sends it to the Solana cluster.
The cluster stores the program locally and makes it available to clients via a
*program ID*. The program ID is a public key generated by the client and is
used to reference the program in subsequent transactions.

## Interacting with On-chain Programs

After a program has been deployed, a client utilizes it by sending transactions
to the Solana cluster. A transaction contains one or more *instructions*. Each
instruction references the program ID that corresponds to the program that the
runtime should use to execute it. Instructions are executed atomically. If any
instruction is invalid, any changes made within the transaction are discarded.

## Storing State between Transactions

If the program needs to store state between transactions, it does so using
*accounts*. Solana supports several kinds of accounts:

1. Executable
2. Owned by a client
3. Owned by a program
4. Credit-only

All accounts are identified by public keys and may hold arbitrary data.  When
the client sends transactions to programs, it requests access to accounts using
those keys. The runtime loads the account and passes it to the program.  The
runtime also ensures accounts aren't written to if not owned by the client or
program. Any writes to credit-only accounts are discarded unless the write was
to credit tokens. Any user may credit other accounts tokens, regardless of
account permission.

